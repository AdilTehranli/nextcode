set(NEXTCODE_INSTALL_PACKAGE_DIR lib${LLVM_LIBDIR_SUFFIX}/cmake/nextcode)
set(nextcode_cmake_builddir "${NEXTCODE_BINARY_DIR}/${NEXTCODE_INSTALL_PACKAGE_DIR}")

# Generate build-tree exports list only
set(NEXTCODE_EXPORTS_FILE ${nextcode_cmake_builddir}/NeXTCodeExports.cmake)
get_property(NEXTCODE_EXPORTS GLOBAL PROPERTY NEXTCODE_EXPORTS)
get_property(NEXTCODE_BUILDTREE_EXPORTS GLOBAL PROPERTY NEXTCODE_BUILDTREE_EXPORTS)

set(NEXTCODE_CONFIG_EXPORTS ${NEXTCODE_EXPORTS} ${NEXTCODE_BUILDTREE_EXPORTS})
export(TARGETS ${NEXTCODE_CONFIG_EXPORTS} FILE ${NEXTCODE_EXPORTS_FILE})


set(NEXTCODE_INCLUDE_DIRS ${NEXTCODE_INCLUDE_DIR} ${NEXTCODE_MAIN_INCLUDE_DIR} ${NEXTCODE_SHIMS_INCLUDE_DIR})
set(NEXTCODE_LIBRARY_DIRS ${NEXTCODE_LIBRARY_OUTPUT_INTDIR})

configure_file(
  NeXTCodeConfig.cmake.in
  ${nextcode_cmake_builddir}/NeXTCodeConfig.cmake
  @ONLY)
